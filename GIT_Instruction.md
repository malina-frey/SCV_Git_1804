![Логотип](LogotipGitHub.png)


# Работа с GIT
## 1. Проверка наличия установленного Git.
В терминале выполнить команду `git version`
Если git установлен, появится сообщение с информацией о версии файла. Иначе будет сообщение об ошибке.

## 2. Установка Git
Загружаем последнюю версию Git с сайта https://git-scm.com/downloads.
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git.
При первом использовании Git необходимо представиться.
Для этого необходимо ввести в терминале две команды:
```
git config global --global user.name "Ваше имя"
git config --global user.email "почта@examp.com"
```
## 4. Инициализация репозитория
Получить репозиторий можно двумя способами.
* В терминале мы переходим к папке, в которой хотим создать репозиторий.
Выполняем команду `git init`. 
В исходной папке появится скрытая папка *.git*, содержащая все необходимые файлы репозитория - структуру Git репозитория.
* Клонировать существующий репозиторий Git из любого места. Сделать это можно коандой:
```
git clone <адрес репозитория>
```
## 5. Определение состояния
`git status` — это еще одна важнейшая команда, которая показывает информацию о текущем состоянии репозитория: актуальна ли информация на нём, нет ли чего-то нового, что поменялось, и так далее. Для того, чтобы отсеживать изменения файла, необходимо его объявить при помощи этой команды.
Для этого в терминале необходимо ввести:
```
git status
```
## 6. Добавление изменений
Команда `git add` добавляет изменение из рабочего каталога в раздел проиндексированных файлов. Она сообщает Git, что вы хотите включить изменения в конкретном файле в следующий коммит.
Для того, чтобы воспользоваться этой командой, в терминале нужно прописать следующее:
```
git add "Название вашего файла"
```
## 7. Фиксация изменений
Команда `git commit` позволяет зафиксировать изменения и сообщить о появлении изменений новой версии файлов.
Для этого введем в терминале следующую команду:
```
git commit -m "Наше действие"
```
 Флажок *-m* задаст *commit message* - комментарий разработчика. Он необходим для описания закоммиченных изменений. И здесь работает золотое правило всех комментариев в коде: *«Максимально ясно, просто и содержательно обозначь написанное!»*

 Если мы ходим всё, что было изменено, сразу добавить к коммиту, то можем объединить блок 6 и 7 при помощи следующей команды:

 ```
 git commit -a -m "Наше действие"
 ```
 ## 8. Сравнение изменений
 Чтобы проанализировать разницу между последними изменениями и последней фиксацией, нам потребуется команда `git diff`. Если мы забыли сохранить файлы, то чтобы понять, отличаются ли файлы  от того, что сохранено в коммите, нам поможет вызов данной команды.
 Для этог вводим в терминале:
 ```
 git diff
 ```
 ## 9. Список коммитов
 Зачастую вместе с командой *git diff* используются *git status* и *git log* для анализа текущего состояния репозитория Git.
 При помощи этой команды мы можем посмотреть всю информация о каждом отдельном коммите, с указанием его хэша, автора, списка изменений и даты, когда они были сделаны. 
 Для просмотра всех сохранений вводим в терминале команду:
 ```
 git log
 ```
 ## 10. Перемещение между коммитами
 Для того, чтобы перейти к какой-либо версии, нам необходимо вызввать команду `git checkout`. После этой команды мы можем указать, какое сохранение нам требуется загрузить. Для этого мы можем указать либо название коммита целиком, либо первые 4 символа. Например:
 ```
 git checkout 52a0
 ```
 ## 11. Возврат к последней версии
 Для того, чтобы вернуться к актуальной версии файла, нам необходимо ввести в терминале команду `git checkout master`, в которой master -  это название ветки, в которой мы хотим продолжить работу.
 ```
 git checkout master
 ```
## 12. Добавление изображения
Для того, чтобы прикрепить картинку к нашему тексту, необходимо в рабочую папку добавить нужный файл и подписать его. Например, прикрепим в начале инструкции логотип Git Hub и подпишем его в нашей папке как `Logo`. Далее, обязательно проверяем статус при помощи команды `git status` и убеждаемся, что в Git_instruction.md есть измененный файл, мы начали его редактировать, но пока еще не сохранили и не закоммитили изменения. И у нас появился новый неотслеживаемы файл *Logo.png*. 
Теперь мы переходим курсором в самое начало нашей инструкции и добавляем файл при помощи следующе команд:
```
![текст, который будет написан, если изображение не загрузится](имя файла, из которого необходимо достать изображение)
```
Например:
**! [Логотип Git Hub] (Logo.png)**

Для того, чтобы вставить имя файла, необходимо нажать правой кнопкой на файл и нажать *скопировать относительной путь* после чего вставить его в скобки.
Тепрь проверим статус `git status` и добавим пока только файл `git add <название файла>`.
Снова проверяем статус `git status` и видим, что у нас есть модифицированный файл и немодифицированый файл с изображением. 

## 13. Игнорирование файлов
Фотографии или большие файлы не принято добавлять в Git. Их обычно игнорируют, а работают только с текстом.

*Игнорируемые файлы* - это те файлы, которые не должны попадать в коммиты. Они отслеживаются в специальном файле **`.gitignore`**, который регистрируется в корневом каталоге репозитория, и Git нам больше не напоминает о нём.

Добавляем новый файл и даем ему название **`.gitignore`**. Далее вводим название файла, который нам нужно игнорировать, например **LogotipGitHub.png**.

Если нам нужно игнорировать все файлы, вводим команду:
```
*.png
```
После чего проверяем статус `git status` и видим игнорируемый файл, который коммитим следующими командами:
```
git add .gitignore
git commit -m "Добавили gitignore файл".
```
Снова проверим статус командой `git status` и видим, что файл с картинкой не добавлен в наш рабочий репозиторий, а добавлен в `.gitignore`.

Теперь Git не будет спрашивать, что ему делать с картинкой, а файл будет светиться в VSCode серым цветом.

## 14. Ветвление в Git

Если мы хотим пэкспериментировать, что-то сделать, решать проблему, но пока еще не окончательный вариант и не хотим это выкладывать в черновик, то мы будем создавать отдельную ветку и в ней продолжать работу. Ветку `master` мы считаем основной, т.е. чистовиком.
Существует несколько команд для работы с ветками, например:
```
git branch - выводит на экран список веток, который у нас есть, звездочкой (*) подсвечивается ветка, в которой мы находимся и работаем в данный момент.
```

Чтобы работать в отдельной ветке, нам нужно ее создать при помощи команды:
```
git branch <branch_name>,
где вместо branch_name указываем имя, которое будет совпадать с действиями в этой ветке, например:
git branch ignore  - т.е. в этой ветке мы будем работать с игнорируемым файлом.
```
Создавая новую ветку мы ничего не меняем, а позволяем пойти работе в другом направлении.

Чтобы войти в ветку, которую мы создали, и начать работать, необходимо ввести команду:
```
git checkout <branch_name>,
где вместо <branch_name> указваем название новой ветки.
```

Далее вводим команду
```
git branch, чтобы удостовериться, что мы уже находимся в новой ветке.
```
Всё, что мы будем делать в новой ветке, никаким образом не будет влиять на наш чистовик.

Далее, редактируем текст, после чего проверяем статус, добавляем его в наш репозиторий и коммитим при помощи следующих команд:
```
git status
git add <название файла>
git commit -m "Наше действие"
```
## 15. Слияние веток

*Слияние веток* - это перенос кода из одной ветки в другую. Принято считать, что ветка **master** - это основная ветка, чистовик. Но на самом деле программе всё равно из какой ветки в какую переносить информацию. 

Итак, после того, как мы поработали в отдельной ветке и уже готовы соединить информацию с чистовиком - нам потребуется команда слияния веток:
```
git merge <название ветки>
```

Перед тем, как воспользоваться этой командой, нам нужно находиться в той ветке, в которую хотим внести информацию из дополнительной ветки.

Поэтому, проверяем статус `git status`, проверяем ветку, в которой находимя сейчас `git branch`, переходим в основную ветку, куда необходимо произвести слияние информации `git checkout master`, и только теперь вводим команду:
```
git merge <имя ветки>,
где вместо <имя ветки> пишем название той ветки, которую хотим слить с основной веткой master.
```

## 16. Разрешение конфликтов

Слияние и конфликты являются неотъемлемой частью работы с Git. Обычно конфликты возникают, когда два человека изменяют одни и те же строки в файле или один разработчик удаляет файл, который в это время изменяет другой разработчик. Как итог - один и тот же текст в разных ветках у нас написан по-разному. И когда мы будем эти ветки сливать - у нас возникнет **конфликт**. 

Git помечает файл как конфликтующий (*название файла подсвечивается красным цветом с восклицательным знаком*) и останавливает процесс слияния, позволяя разработчику самостоятельно решить этот конфликт.

Git предлагает несколько решений данного конфликта:

1. *CURRENT CHANGE* - сохранить текущую версию.

2. *INCOMING CHANGE* - сохранить только то, что пришло из другой ветки.

3. *COMPARE CHANGE* - оставить оба варианта и их сравнить.

4. *ACCEPTE BATH CHANGES* - оставляем оба варианта и вручную редактируем то, что мы хотим оставить.

После этого нам нужно сохранить состояние после конфликта.

Выполняем следующие команды:
```
git status
git add <название файла>
git commit -m "Слили изменения с учетом конфликтов из ветки <название>"
```
Также, можно визулизировать все ветки, которые у нас есть, при помощи команды:
```
git log --graph
```
Благодаря этой команде мы увидим иное отображение дерева коммитов, которые у нас были.

## 17. Удаление веток

После того, как мы поработали с ветками, слили изменения в исходную ветку *master* и не планируем ничего изменять, то ветки можно удалить. Удаление веток считается хорошим тоном в программировании, чтобы ненужные ветки не мешали вашему коду.

Итак, для удаление ветки воспользуемся следующей командой:
```
git branch -d <название удаляемой ветки>,
где d - (маленькая).
```

Однако, может произойти такая ситуация, что вы создали ветку, внесли информацию, и, например, поняли, что эта ветка, которая не сохранена, не закоммичена и не замержена - вам не нужна. Тогда такую ветку можно удалить при помощи принудительной команды:
```
git branch -D <название удаляемой ветки>,
где D - (заглавная).
```

*Итак, подведем итог: ветки позволяют вносить изменения в кодовую базу, не затрагивая основной код, до тех пор, пока вы не будете готовы включить эти изменения в проект.*

## 18. Работа с удаленным репозиторием в Git.
_GitHub_ - это сервис компании MS, который позволяет интегрироваться с программой Git и настроить удаленную работу с репозиториями.

Можно хранить репозиторий локально (в Git), а можно удаленно (на GitHub).

Для того, чтобы взять чей-то готовый репозиторий, нам нужно перейти на https://github.com/

Для начала создадим на на рабочем столе новую папку, например LESSON_3.

Далее, в поисковой строке, введем название заранее известного нам репозитория (например: ilnar-geekbrains/version_control_lection_3)  и перейдем в файл.

Далее нажимаем _CODE_ и кнопку _скопировать_, (где HTTPS..).

После этого в терминале VSCode нам понадобится новая команда.

Для начала введем `git status`. Увидим, что терминал выдает нам ошибку, т.к. в папке LESSION_3 нет репозитория. 

Далее вводим команду:
```
git clone <вставляем адрес скопированного репозитория>
```
Теперь у нас появилась новая папка и Git скачал репозиторий, а также сам добавил файл _version_control_lection_3_.

Для того, чтобы аккуратно работать с Git нам необходимо поместить внутрь папки и поменять директорию при помощи команды:
```
cd version_control_lection_3
```

По факту, появляется полная версия работы. Все происходит локально, версия на GitHub не поменяется.

## 19. Отправить репозиторий на GitHub

Создадим новую папку, например _LESSION_3_1_ и откроем ее в VSCode.
Открываем терминал и вводим команду:
```
git status
```
Далее, создаем новый репозиторий:
```
git init
```
И создаем файл, например:
```
hello_world.md
```
Далее вводим следующие, уже хорошо известные нам команды:
```
git status
gid add hello_world.md
git commit -m "наше действие"
```
На сервисе, куда мы хотим отправить репозиторий, нужно создать аккаунт.

Заходим на GitHub, в правом верхнем углу нажимаем (+ и стрелочка) и выбираем _новый репозиторий_.
Даем ему имя, например _test_ и оставляем параметры по умолчанию и нажимаем _создать репозиторий_.

GitHub дает нам подсказки и советует, что нам нужно сделать, чтобы начать работать с этим репозиторием:

* or create a new repossitory on the command line (создать новый репозиторий через терминал и начать с этим работать)

* or push an axisting repository from the command line (вы можете существующий репозиторий привязать к этому удаленному репозиторию)

* or import code from another repository (импортировать код из другого репозитория).

У нас ситуация _or push an axisting repository from the command line_ - т.е. у нас есть репозиторий, который у нас локально работает и мы хотим сейчас отправить эту информацтю на GitHub так, чтобы в интернете эта информация появилась. 

Система даёт нам следующие команды-подсказки, которые мы по очереди вводим в терминале:
```
git remote add origin <ссылка на новый удаленный репозиторий>

например https://github.com/malina_frey/test.git

git branch -M main  - это основная ветка
git push -u origin main - это ветка, на которую направляем
```
Разберем более подробно, что такое 

`git remote add origin`.
Итак, _remote_ - переводится как удаленный, т.е. мы говорим, что программа Git должна понять, что у нас появляется новый удаленный репозиторий, указываем ссылку, т.е. адрес на тот удаленный репозиторий, с которым нужно работать. И каждый раз, когда мы захотим что-то отправить в интеренет, Git будет знать, что отправлять ему нужно на этот адрус https..

Т.е. по сути мы связываем наш локальный репозиторий с нашим удаленным репозиторием. 

Далее,

`git branch -M main` - мы указываем, какая ветка будет являться основнойи уже после этого, при пмощи команды

`git push -u origin main`  - направляем то, что у нас есть на локальном репозитории в интернет.
(origin - название удаленного репозитория, push - давать, толкать).

При первой отправке _push_ нам нужно подружиться с GitHub, чтобы он убедился что мы владельцыэтого репозитоияи имеем право на внесение изменений туда. VSCode сам помогает авторизоваться всплывающим окном. В нем нажимаем
`sing in with your browser`, вводим почту и пароль и далее двигаемся по инструкции, после чего нам придет уведомление об авторизации.

Обновляем страничку на GitHub и видим, что наш файл появился там на нашем репозитории. Теперь на не обязательно архивировать папку и прикладывать файлы, мы можем просто выгрузить ее на GitHub и передать ссылку при помощи кнопки `code` + копировать ссылку.

Если наш репозиторий общественный, то около имени будет написано Public, т.е. у любого человека, у которого есть ссылка, есть возможность сохранить себе репозиторий.

## 20. Синхронизация репозиториев

Теперь нам нужно взять актуальную версию GitHub и сделать так, чтобы у нас на локальном клмпьютере наш локальный репозиторий был полностью синхронизирован с ней. Это можно сделать в терминале при помощи команды `git pull` ( что в переводе - тянуть).

Затем при помощи команды `git log` можно посмотреть изменения, видно когда и кем они были внесены. 
